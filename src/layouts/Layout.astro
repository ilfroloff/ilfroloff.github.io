---
import "@fontsource-variable/fira-code";
import Logo from "src/components/Logo.astro";
import HeaderLink from "src/components/HeaderLink.astro";
import ThemeToggle from "src/components/solid/ThemeToggle";

interface Props {
  title?: string;
}

const APP_NAME = import.meta.env.APP_NAME;
const GA_MEASUREMENT_ID = import.meta.env.PUBLIC_GA_MEASUREMENT_ID;
const { title = APP_NAME } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={title} />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>
  </head>
  <body class="bg-gray-100 dark:bg-[#1D1D35] text-gray-600 dark:text-[#E9EDDE]">
    <header class="container px-12 py-3 lg:px-56">
      <nav class="flex items-center justify-between mx-auto">
        <div class="flex flex-1 justify-start">
          <a href="/">
            <Logo />
          </a>
        </div>
        <div class="flex">
          <!--bg-[#159957] dark:bg-[#003000]-->
          <HeaderLink href="/hot-links">
            <span>ðŸ”¥ Hot links</span>
          </HeaderLink>
        </div>
        <div class="flex flex-1 justify-end">
          <ThemeToggle client:load />
        </div>
      </nav>
    </header>
    <main class="container p-12 lg:px-56">
      <slot />
    </main>
  </body>
</html>

<style is:global></style>

<!--{-->
<!--  GA_MEASUREMENT_ID && (-->
<!--    <>-->
<!--      <script-->
<!--        async-->
<!--        src={`https://www.googletagmanager.com/gtag/js?id=${GA_MEASUREMENT_ID}`}-->
<!--      />-->
<!--    </>-->
<!--  )-->
<!--}-->
<!--<script-->
<!--  id="ga-start-script"-->
<!--  data-ga-measurement-id={GA_MEASUREMENT_ID}-->
<!--  is:inline-->
<!--&gt;-->
<!--  (() => {-->
<!--    const scriptElement = document.getElementById("ga-start-script");-->
<!--    const gaMeasurementId = scriptElement?.dataset.gaMeasurementId;-->

<!--    if (gaMeasurementId) {-->
<!--      const dataLayer = (window.dataLayer = window.dataLayer || []);-->

<!--      dataLayer.push("js", new Date());-->
<!--      dataLayer.push("config", gaMeasurementId);-->
<!--    }-->
<!--  })();-->
<!--</script>-->
<script is:inline>
  (() => {
    const defaultTheme =
      window.localStorage.getItem("theme") ||
      (window.matchMedia("(prefers-color-scheme: dark)").matches
        ? "dark"
        : "light");

    document.documentElement.classList.toggle("dark", defaultTheme === "dark");
    window.localStorage.setItem("theme", defaultTheme);
  })();
</script>

<!-- Google tag (gtag.js) -->
<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=G-J9GB6Q63PK"
  is:inline></script>
<script is:inline>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "G-J9GB6Q63PK");
</script>
